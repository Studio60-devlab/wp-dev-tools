@mixin mobileMenuPage($zIndex) {
    position: fixed;
    align-items: center;
    justify-content: center;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: #fff;
    z-index: $zIndex;
    font-size: 36px;
    padding: 0;
}

.scroll-blocker {
    overflow: hidden;
}

.popmenu {
    display: none;
    overflow-y: auto;

    > ul {
        display: flex;
    }

    a {
        color: #000;
        user-select: none;
    }

    .current-menu-item a,
    a:hover {
        color: $brand-primary;
    }

    @include mobileMenuPage(15);

    &.open {
        display: flex;
    }

    ul {
        display: block;
        text-align: center;
        list-style-type: none;
    }

    li {
        padding: 0 20px;
    }

    .header__arrowdown {
        transform: rotate(-90deg);
        top: -7px;
        height: 10px;
    }

    /**
     * when the menu is too long, we cant center it
     * so we force flex to align on top
     */
    &--will-scroll {
        align-items: flex-start;

        > ul {
            margin-top: 20px;
        }
    }

    &__submenu {
        @include mobileMenuPage(16);
        transform: translate3d(100%, 0, 0);
        transition: opacity .3s ease, transform .3s ease;
        opacity: 0;

        &.visible {
            opacity: 1;
            display: flex;
            transform: translate3d(0, 0, 0);
        }

        &.close {
            opacity: 0;
            transform: translate3d(0, 0, 0) scale(1.3);
        }
    }

    &__close {
        color: $brand-primary;
        cursor: pointer;
        font-size: 35px;
        display: none;
        position: fixed;
        top: 3px;
        right: 3px;
        z-index: 100;
        width: 48px;
        height: 48px;
        justify-content: center;
        align-items: center;

        &.visible {
            display: flex;
        }
    }

    &__go-root {
        color: $brand-primary;
        cursor: pointer;
        display: none;
        line-height: 1;
        position: fixed;
        top: 6px;
        left: 8px;
        width: 48px;
        height: 48px;
        z-index: 100;
        transform: rotate(180deg);
        justify-content: center;
        align-items: center;

        &.visible {
            display: flex;
        }
    }
}
